<!doctype html><html lang=zh-tw itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Book on a Rod - eri24816's blog</title>
<meta name=description content="I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"eri24816\u0027s blog","url":"https:\/\/eri24816.tw\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/eri24816.tw\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/eri24816.tw\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/eri24816.tw\/post\/book-on-a-rod\/","name":"Book on a rod"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":""},"headline":"Book on a Rod","description":"I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?","inLanguage":"zh-tw","wordCount":353,"datePublished":"2024-11-16T00:00:00","dateModified":"2024-11-16T00:00:00","image":"https:\/\/eri24816.tw\/","keywords":["InformationTheory"],"mainEntityOfPage":"https:\/\/eri24816.tw\/post\/book-on-a-rod\/","publisher":{"@type":"Organization","name":"https:\/\/eri24816.tw\/","logo":{"@type":"ImageObject","url":"https:\/\/eri24816.tw\/","height":60,"width":60}}}</script><meta property="og:title" content="Book on a Rod"><meta property="og:description" content="I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?"><meta property="og:image" content="https://i.imgur.com/5kg2YwL.png"><meta property="og:url" content="https://eri24816.tw/post/book-on-a-rod/"><meta property="og:type" content="website"><meta property="og:site_name" content="eri24816's blog"><link rel=apple-touch-icon sizes=180x180 href=https://eri24816.tw/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://eri24816.tw/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://eri24816.tw/favicon/favicon-16x16.png><meta name=generator content="Hugo 0.138.0"><link rel=alternate href=https://eri24816.tw/index.xml type=application/rss+xml title="eri24816's blog"><script src=https://eri24816.tw/js/dark-mode.js></script><link rel=stylesheet href=/style.min.css><link rel=stylesheet href=https://eri24816.tw/custom.css><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><link href=/vendor/glightbox/css/glightbox.min.css rel=stylesheet><script src=https://eri24816.tw/vendor/glightbox/js/glightbox.min.js></script></head><body><img src=https://i.imgur.com/pBOqZZb.png alt=bg class=bg-img>
<script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".bg-img"),s=document.querySelector(".index"),t=document.querySelector(".index-container");function n(){const n=window.pageYOffset||document.documentElement.scrollTop,i=n/300,a=Math.min(2,n/400);let o;s?o=Math.max(.2,.8-n/300):o=.2,t&&(t.style.opacity=i),e&&(e.style.filter=`brightness(${o})`,e.style.top=`${.7*n}px`)}n(),window.addEventListener("scroll",n)})</script><div class="container fixed-top mw-100"><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-10 col-xl-10"><nav class="navbar navbar-expand-lg navbar-light fixed-top p-0"><div class=container><a class="navbar-brand fw-bold" href=https://eri24816.tw/>eri24816's blog</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=navbarNav><ul class="navbar-nav mb-2 mb-lg-0 align-items-baseline"><li class="nav-item dropdown"><button class="p-1 rounded dropdown-toggle border-gray-500" data-bs-toggle=dropdown aria-expanded=false>
zh-tw</button><ul class=dropdown-menu><li><a class="dropdown-item active" aria-current=page href=https://eri24816.tw/post/book-on-a-rod/>繁體中文</a></li></ul></li><li class="nav-item nav-link"><a id=dark-mode-toggle class="bi bi-moon-stars" role=button></a></li></ul></div></div></nav></div></div></div><header class=header-section><div class="intro-header no-img mt-10"><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-8 col-xl-8"><div class="col-sm-12 col-md-12 col-lg-12 col-xl-12"><div class=post-heading><h1 class="fw-semibold display-5 lh-1 mb-3">Book on a Rod</h1><span class=post-meta><div class="row post-meta text-muted"><div class="col-sm-12 col-md-6 px-0">&nbsp; November 16, 2024</div><div class="col-sm-12 col-md-6 text-sm-start text-md-end px-0"></div></div></span></div></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4"><article role=main class=blog-post><h1 id=the-problem>The Problem</h1><p>I was wondering how to quantitatively represent the capacity of an VAE’s latent variable (or a reconstruction step of a diffusion model) in bits, making it comparable to other distributions, such as the data distribution?</p><h1 id=book-on-a-rod>Book on a Rod</h1><p>Then, a paradox I saw like 8 years ago came to my mind:</p><blockquote><p>“Theoretically, you can store all information of a book on a rod. To do that, encode the book’s content into a decimal string, put it behind <code>0.</code> , and mark at the position of that number fraction of the rod’s length.”</p></blockquote><p>What prohibits one to do that in reality is the noise occurs when inscribing and measuring the mark. So, in reality, it would be more like “You can store at most 50*x bits on a rod of x meters, with one mark on it.”</p><h1 id=back-to-the-latent-variable>Back to the Latent Variable</h1><p>That paradox is a down-to-earth version of the following:</p><blockquote><p>“The Shannon entropy of a non-singular continuous distribution (such as Gaussian) is infinity. Therefore, the latent varible have infinity capacity.</p></blockquote><p>That means, with Shannon entropy as the measure, the capacity of a VAE’s latent variable is larger than all categorical data distribution, even the latent space is only one dimensional.</p><p>Yes, we have differential entropy, which provides a convergent measure of entropy of continuous distributions. But it is not robust to scaling, and we can’t really say “the distribution has 10 bits of differential entropy”.</p><p>After days of thinking, I believe that what’s missing is some noise when we access the latent variable. The noise prevents an encoded code (the mark) to occupy infinitely small distinct subset of the latent space (the rod). With an additive Gaussian noise, we can yield a nice answer to the original problem:</p><hr><p>Given a $d$-dimensional latent variable $Z\sim\mathcal{N}(0,,s^{2}I),$ and a additive Gaussian noise when accessing the latent variable $N\sim\mathcal{N}(0,t^{2}I)$, the capacity of the latent variable becomes $I(Z,Z+N)=\frac{1}{2}d\log({1+\frac{s^2}{t^2}})$.</p><hr><p>This measure is robust to scaling as $s$ and $t$ scale together. It can be measured in bits.</p><p>The modified VAE now looks like a noisy channel, and the equation looks like the equation in <a href=https://en.wikipedia.org/wiki/Shannon%E2%80%93Hartley_theorem>Shannon–Hartley theorem</a>.</p></article></div></div><div class=row><div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1"><hr class=m-0></div><div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-2"><div class=blog-tags><a href=https://eri24816.tw/tags/informationtheory/>InformationTheory</a></div></div><div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4"></div><div class="col-lg-8 offset-lg-2 col-md-12 offset-md-1 pt-4"><ul class="list-group list-group-horizontal" style=flex-direction:row><li class="list-group-item b-0 p-0"><a type=button class="btn btn-dark" role=button href=https://eri24816.tw/post/%E9%AD%94%E6%B3%95/ data-toggle=tooltip data-placement=top title=魔法>&larr;
上一篇</a></li><li class="list-group-item ms-auto b-0 p-0"><a type=button class="btn btn-dark" role=button href=https://eri24816.tw/post/jenkins-docker/ data-toggle=tooltip data-placement=top title="用 Jenkins 佈署 Docker 應用程式">下一篇
&rarr;</a></li></ul></div><div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4"></div></div></div><div></div><footer><div class=container><div class=row><div class=col-md-12><ul class="list-inline list-group list-group-horizontal text-center footer-links d-flex justify-content-center flex-row"></ul></div></div><div class=row><div class=col-md-12><p class="credits copyright text-muted">&nbsp;&bull;&nbsp;&copy;
2024
&nbsp;&bull;&nbsp;
<a href=https://eri24816.tw/>eri24816's blog</a></p><p class="credits theme-by text-muted">Powered by <a href=https://gohugo.io>Hugo</a> & <a href=https://github.com/binokochumolvarghese/lightbi-hugo>Lightbi.</a>&nbsp; Made with ❤ by <a href=https://binovarghese.com>Bino</a></p></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js integrity=sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL crossorigin=anonymous></script></body></html>